<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>20 Packages 101 | The R4GC Book</title>
  <meta name="description" content="Notes and tutorials from ‘Lunch and Learn Data Science with R’ weekly meetups organized by the R4GC Community" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="20 Packages 101 | The R4GC Book" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://open-canada.github.io/r4gc" />
  <meta property="og:image" content="https://open-canada.github.io/r4gc/images/r4gc-banner.png" />
  <meta property="og:description" content="Notes and tutorials from ‘Lunch and Learn Data Science with R’ weekly meetups organized by the R4GC Community" />
  <meta name="github-repo" content="open-canada/r4gc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="20 Packages 101 | The R4GC Book" />
  
  <meta name="twitter:description" content="Notes and tutorials from ‘Lunch and Learn Data Science with R’ weekly meetups organized by the R4GC Community" />
  <meta name="twitter:image" content="https://open-canada.github.io/r4gc/images/r4gc-banner.png" />



<meta name="date" content="2021-11-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/R4GC.ico" type="image/x-icon" />
<link rel="prev" href="gccode-101.html"/>
<link rel="next" href="r101-building-covid-19-tracker-app-from-scratch.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<!-- <li><a href="index.html"> "R4GC workbook"</a> </li> -->
<li><a href="index.html"> <img width="100%" src="images/r4gc-banner.png"> </a>      </li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Raison d’être</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r4gc-community"><i class="fa fa-check"></i>R4GC Community</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lunch-and-learn-data-science-with-r-meetups"><i class="fa fa-check"></i>“Lunch and Learn Data Science with R” meetups</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#community-portals"><i class="fa fa-check"></i>Community portals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#community-presentations"><i class="fa fa-check"></i>Community presentations</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#gcIMS2021"><i class="fa fa-check"></i>International Methodology Symposium (October 2021)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#gcdata2021"><i class="fa fa-check"></i>GC Data Conference (February, 2021)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#français"><i class="fa fa-check"></i>Français</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html"><i class="fa fa-check"></i>About this book</a>
<ul>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#book-source-code"><i class="fa fa-check"></i>Book source code</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#disclaimer-1"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#key-principles"><i class="fa fa-check"></i>Key principles</a>
<ul>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#open-data-open-source-open-science"><i class="fa fa-check"></i>Open data, open source, open science</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#chatham-house-rule"><i class="fa fa-check"></i>Chatham House Rule</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#how-to-contribute"><i class="fa fa-check"></i>How to contribute</a></li>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#about-authors"><i class="fa fa-check"></i>About authors</a>
<ul>
<li class="chapter" data-level="" data-path="about-this-book.html"><a href="about-this-book.html#contacts"><i class="fa fa-check"></i>Contacts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="book-outline.html"><a href="book-outline.html"><i class="fa fa-check"></i>Book outline</a>
<ul>
<li class="chapter" data-level="" data-path="book-outline.html"><a href="book-outline.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="book-outline.html"><a href="book-outline.html#book-structure"><i class="fa fa-check"></i>Book structure</a></li>
</ul></li>
<li class="part"><span><b>I General discussions</b></span></li>
<li class="chapter" data-level="1" data-path="why-r.html"><a href="why-r.html"><i class="fa fa-check"></i><b>1</b> Why R?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="why-r.html"><a href="why-r.html#main-reasons-to-use-r-for-data-science"><i class="fa fa-check"></i><b>1.1</b> 10 main reasons to use R for Data Science</a></li>
<li class="chapter" data-level="1.2" data-path="why-r.html"><a href="why-r.html#r-vs.-python"><i class="fa fa-check"></i><b>1.2</b> R vs. Python</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html"><i class="fa fa-check"></i><b>2</b> Learn R: <em>R</em>ight way!</a>
<ul>
<li class="chapter" data-level="2.1" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#the-way-we-teach-at-r4gc-lunch-and-learn"><i class="fa fa-check"></i><b>2.1</b> The way we teach at R4GC Lunch and Learn</a></li>
<li class="chapter" data-level="2.2" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#from-rstudio"><i class="fa fa-check"></i><b>2.2</b> From RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#ways-to-continue-growing-your-r-skills"><i class="fa fa-check"></i><b>2.3</b> Ways to continue growing your R skills</a></li>
<li class="chapter" data-level="2.4" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#r-communities-in-gc"><i class="fa fa-check"></i><b>2.4</b> R communities in GC</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#gcconnex-gc-only"><i class="fa fa-check"></i><b>2.4.1</b> GCConnex (GC only):</a></li>
<li class="chapter" data-level="2.4.2" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#gccode-gc-only"><i class="fa fa-check"></i><b>2.4.2</b> GCcode (GC only):</a></li>
<li class="chapter" data-level="2.4.3" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#gccollab-public-with-login"><i class="fa fa-check"></i><b>2.4.3</b> GCcollab (public with login):</a></li>
<li class="chapter" data-level="2.4.4" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#gcwiki-public"><i class="fa fa-check"></i><b>2.4.4</b> GCwiki (public):</a></li>
<li class="chapter" data-level="2.4.5" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#github-public"><i class="fa fa-check"></i><b>2.4.5</b> GitHub (public):</a></li>
<li class="chapter" data-level="2.4.6" data-path="learn-r-right-way.html"><a href="learn-r-right-way.html#other-related-groups"><i class="fa fa-check"></i><b>2.4.6</b> Other related groups</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="open-source-textbooks.html"><a href="open-source-textbooks.html"><i class="fa fa-check"></i><b>3</b> Open source textbooks</a>
<ul>
<li class="chapter" data-level="3.1" data-path="open-source-textbooks.html"><a href="open-source-textbooks.html#in-two-column-format"><i class="fa fa-check"></i><b>3.1</b> In two-column format</a></li>
<li class="chapter" data-level="3.2" data-path="open-source-textbooks.html"><a href="open-source-textbooks.html#in-three-column-format"><i class="fa fa-check"></i><b>3.2</b> In three-column format</a></li>
<li class="chapter" data-level="3.3" data-path="open-source-textbooks.html"><a href="open-source-textbooks.html#data.table-vs.-dplyr"><i class="fa fa-check"></i><b>3.3</b> data.table vs. dplyr</a></li>
<li class="chapter" data-level="3.4" data-path="open-source-textbooks.html"><a href="open-source-textbooks.html#extensions-of-data.table"><i class="fa fa-check"></i><b>3.4</b> Extensions of data.table</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="python-and-r-unite.html"><a href="python-and-r-unite.html"><i class="fa fa-check"></i><b>4</b> Python and R unite!</a></li>
<li class="chapter" data-level="5" data-path="from-excel-to-r.html"><a href="from-excel-to-r.html"><i class="fa fa-check"></i><b>5</b> From Excel to R</a></li>
<li class="chapter" data-level="6" data-path="reading-various-kinds-of-data-in-r.html"><a href="reading-various-kinds-of-data-in-r.html"><i class="fa fa-check"></i><b>6</b> Reading various kinds of data in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reading-various-kinds-of-data-in-r.html"><a href="reading-various-kinds-of-data-in-r.html#vroom"><i class="fa fa-check"></i><b>6.1</b> vroom</a></li>
<li class="chapter" data-level="6.2" data-path="reading-various-kinds-of-data-in-r.html"><a href="reading-various-kinds-of-data-in-r.html#readxl-and-xlsx"><i class="fa fa-check"></i><b>6.2</b> readxl and xlsx</a></li>
<li class="chapter" data-level="6.3" data-path="reading-various-kinds-of-data-in-r.html"><a href="reading-various-kinds-of-data-in-r.html#discussion"><i class="fa fa-check"></i><b>6.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html"><i class="fa fa-check"></i><b>7</b> Other tips and tricks</a>
<ul>
<li class="chapter" data-level="7.1" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#efficient-programming-in-r"><i class="fa fa-check"></i><b>7.1</b> Efficient programming in R</a></li>
<li class="chapter" data-level="7.2" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#object-oriented-programming-in-r"><i class="fa fa-check"></i><b>7.2</b> Object oriented programming in R</a></li>
<li class="chapter" data-level="7.3" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#debugging-tricks"><i class="fa fa-check"></i><b>7.3</b> Debugging tricks</a></li>
<li class="chapter" data-level="7.4" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#rstudio-tricks"><i class="fa fa-check"></i><b>7.4</b> RStudio tricks</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#coding-online"><i class="fa fa-check"></i><b>7.4.1</b> Coding online</a></li>
<li class="chapter" data-level="7.4.2" data-path="other-tips-and-tricks.html"><a href="other-tips-and-tricks.html#running-multiple-rstudio-versions"><i class="fa fa-check"></i><b>7.4.2</b> Running multiple RStudio versions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualization and Reporting</b></span></li>
<li class="chapter" data-level="8" data-path="r-markdown-for-literate-programming-and-automated-reports.html"><a href="r-markdown-for-literate-programming-and-automated-reports.html"><i class="fa fa-check"></i><b>8</b> R Markdown for literate programming and automated reports</a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-markdown-for-literate-programming-and-automated-reports.html"><a href="r-markdown-for-literate-programming-and-automated-reports.html#resources"><i class="fa fa-check"></i><b>8.1</b> Resources</a></li>
<li class="chapter" data-level="8.2" data-path="r-markdown-for-literate-programming-and-automated-reports.html"><a href="r-markdown-for-literate-programming-and-automated-reports.html#automated-generation-of-multiple-pdf-files"><i class="fa fa-check"></i><b>8.2</b> Automated generation of multiple PDF files</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ggplot2-and-its-extensions-for-data-visualization.html"><a href="ggplot2-and-its-extensions-for-data-visualization.html"><i class="fa fa-check"></i><b>9</b> ggplot2 and its extensions for data visualization</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ggplot2-and-its-extensions-for-data-visualization.html"><a href="ggplot2-and-its-extensions-for-data-visualization.html#resources-1"><i class="fa fa-check"></i><b>9.1</b> Resources</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ggplot2-and-its-extensions-for-data-visualization.html"><a href="ggplot2-and-its-extensions-for-data-visualization.html#plotly-r-shiny"><i class="fa fa-check"></i><b>9.1.1</b> Plotly + R Shiny</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="shiny-for-interactive-data-visualization-analysis-and-web-app-development.html"><a href="shiny-for-interactive-data-visualization-analysis-and-web-app-development.html"><i class="fa fa-check"></i><b>10</b> Shiny for Interactive Data Visualization, Analysis and Web App development</a>
<ul>
<li class="chapter" data-level="10.1" data-path="shiny-for-interactive-data-visualization-analysis-and-web-app-development.html"><a href="shiny-for-interactive-data-visualization-analysis-and-web-app-development.html#resources-2"><i class="fa fa-check"></i><b>10.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="using-r-with-gc-data-infastructure-gcdocs-aws-etc.html"><a href="using-r-with-gc-data-infastructure-gcdocs-aws-etc.html"><i class="fa fa-check"></i><b>11</b> Using R with GC data infastructure (gcdocs, AWS, etc)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="using-r-with-gc-data-infastructure-gcdocs-aws-etc.html"><a href="using-r-with-gc-data-infastructure-gcdocs-aws-etc.html#gcdocs"><i class="fa fa-check"></i><b>11.1</b> gcdocs</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="interactive-outputs-in-r-plotly-datatable-reactable.html"><a href="interactive-outputs-in-r-plotly-datatable-reactable.html"><i class="fa fa-check"></i><b>12</b> Interactive Outputs in R: plotly, Datatable, reactable</a>
<ul>
<li class="chapter" data-level="12.1" data-path="interactive-outputs-in-r-plotly-datatable-reactable.html"><a href="interactive-outputs-in-r-plotly-datatable-reactable.html#reactable"><i class="fa fa-check"></i><b>12.1</b> <code>reactable</code></a></li>
</ul></li>
<li class="part"><span><b>III Machine Learning and AI</b></span></li>
<li class="chapter" data-level="13" data-path="record-linking-and-other-data-engineering-tasks-in-r.html"><a href="record-linking-and-other-data-engineering-tasks-in-r.html"><i class="fa fa-check"></i><b>13</b> Record Linking and other Data Engineering tasks in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="record-linking-and-other-data-engineering-tasks-in-r.html"><a href="record-linking-and-other-data-engineering-tasks-in-r.html#demo"><i class="fa fa-check"></i><b>13.1</b> demo</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html"><i class="fa fa-check"></i><b>14</b> Geo/Spatial coding and visualization in R</a>
<ul>
<li class="chapter" data-level="14.1" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html#resources-3"><i class="fa fa-check"></i><b>14.1</b> Resources</a></li>
<li class="chapter" data-level="14.2" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html#federal-geospatial-platform"><i class="fa fa-check"></i><b>14.2</b> Federal Geospatial Platform</a></li>
<li class="chapter" data-level="14.3" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html#tutorials"><i class="fa fa-check"></i><b>14.3</b> Tutorials</a></li>
<li class="chapter" data-level="14.4" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html#dealing-with-memory-issues"><i class="fa fa-check"></i><b>14.4</b> Dealing with memory issues</a></li>
<li class="chapter" data-level="14.5" data-path="geospatial-coding-and-visualization-in-r.html"><a href="geospatial-coding-and-visualization-in-r.html#canadian-geo-data"><i class="fa fa-check"></i><b>14.5</b> Canadian geo-data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="text-analysis-in-r.html"><a href="text-analysis-in-r.html"><i class="fa fa-check"></i><b>15</b> Text Analysis in R</a>
<ul>
<li class="chapter" data-level="15.1" data-path="text-analysis-in-r.html"><a href="text-analysis-in-r.html#open-source-textbook"><i class="fa fa-check"></i><b>15.1</b> Open source textbook</a></li>
<li class="chapter" data-level="15.2" data-path="text-analysis-in-r.html"><a href="text-analysis-in-r.html#plagiarism-detection"><i class="fa fa-check"></i><b>15.2</b> Plagiarism detection</a></li>
<li class="chapter" data-level="15.3" data-path="text-analysis-in-r.html"><a href="text-analysis-in-r.html#results-from-international-methodology-symposium"><i class="fa fa-check"></i><b>15.3</b> results from International Methodology Symposium</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="machine-learning-and-modeling-in-r.html"><a href="machine-learning-and-modeling-in-r.html"><i class="fa fa-check"></i><b>16</b> Machine Learning and Modeling in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="machine-learning-and-modeling-in-r.html"><a href="machine-learning-and-modeling-in-r.html#resources-4"><i class="fa fa-check"></i><b>16.1</b> Resources</a></li>
<li class="chapter" data-level="16.2" data-path="machine-learning-and-modeling-in-r.html"><a href="machine-learning-and-modeling-in-r.html#additional-references"><i class="fa fa-check"></i><b>16.2</b> Additional references</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="deep-learning-and-computer-vision.html"><a href="deep-learning-and-computer-vision.html"><i class="fa fa-check"></i><b>17</b> Deep Learning and Computer vision</a></li>
<li class="chapter" data-level="18" data-path="simulation-and-optimization.html"><a href="simulation-and-optimization.html"><i class="fa fa-check"></i><b>18</b> Simulation and Optimization</a></li>
<li class="part"><span><b>IV Community Tutorials</b></span></li>
<li class="chapter" data-level="19" data-path="gccode-101.html"><a href="gccode-101.html"><i class="fa fa-check"></i><b>19</b> GCCode 101</a>
<ul>
<li class="chapter" data-level="19.1" data-path="gccode-101.html"><a href="gccode-101.html#tldr"><i class="fa fa-check"></i><b>19.1</b> TL;DR</a></li>
<li class="chapter" data-level="19.2" data-path="gccode-101.html"><a href="gccode-101.html#step-00-connecting-to-gccode-and-installing-required-soft."><i class="fa fa-check"></i><b>19.2</b> Step 00: Connecting to GCCode and installing required soft.</a></li>
<li class="chapter" data-level="19.3" data-path="gccode-101.html"><a href="gccode-101.html#step-0-configuring-windows-git-and-gitlab-tokens"><i class="fa fa-check"></i><b>19.3</b> Step 0: Configuring Windows, Git and GitLab (tokens)</a></li>
<li class="chapter" data-level="19.4" data-path="gccode-101.html"><a href="gccode-101.html#step-1-find-or-create-a-gitlab-project-you-want-to-contribute-to."><i class="fa fa-check"></i><b>19.4</b> Step 1: Find (or create) a GitLab project you want to contribute to.</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="gccode-101.html"><a href="gccode-101.html#using-command-line"><i class="fa fa-check"></i><b>19.4.1</b> 1.2 Using Command Line</a></li>
<li class="chapter" data-level="19.4.2" data-path="gccode-101.html"><a href="gccode-101.html#in-rstudio"><i class="fa fa-check"></i><b>19.4.2</b> 1.2 In RStudio</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="gccode-101.html"><a href="gccode-101.html#step-2-using-branches-optional"><i class="fa fa-check"></i><b>19.5</b> Step 2: Using Branches (optional)</a></li>
<li class="chapter" data-level="19.6" data-path="gccode-101.html"><a href="gccode-101.html#step-3-gccoding-from-rstudio"><i class="fa fa-check"></i><b>19.6</b> Step 3: GCcoding from RStudio</a></li>
<li class="chapter" data-level="19.7" data-path="gccode-101.html"><a href="gccode-101.html#related-gc-discussions-and-links"><i class="fa fa-check"></i><b>19.7</b> Related GC discussions and links:</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="packages-101.html"><a href="packages-101.html"><i class="fa fa-check"></i><b>20</b> Packages 101</a>
<ul>
<li class="chapter" data-level="20.1" data-path="packages-101.html"><a href="packages-101.html#resources-5"><i class="fa fa-check"></i><b>20.1</b> Resources</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="packages-101.html"><a href="packages-101.html#gc-groups-and-repos"><i class="fa fa-check"></i><b>20.1.1</b> GC groups and repos</a></li>
<li class="chapter" data-level="20.1.2" data-path="packages-101.html"><a href="packages-101.html#related-tutorials"><i class="fa fa-check"></i><b>20.1.2</b> Related tutorials</a></li>
<li class="chapter" data-level="20.1.3" data-path="packages-101.html"><a href="packages-101.html#how-to-contribute-1"><i class="fa fa-check"></i><b>20.1.3</b> How to contribute</a></li>
<li class="chapter" data-level="20.1.4" data-path="packages-101.html"><a href="packages-101.html#r-script-to-start"><i class="fa fa-check"></i><b>20.1.4</b> * R script to start:</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="packages-101.html"><a href="packages-101.html#setup"><i class="fa fa-check"></i><b>20.2</b> * Setup</a></li>
<li class="chapter" data-level="20.3" data-path="packages-101.html"><a href="packages-101.html#overall-workflow"><i class="fa fa-check"></i><b>20.3</b> * Overall Workflow</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="packages-101.html"><a href="packages-101.html#section"><i class="fa fa-check"></i><b>20.3.1</b> </a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="packages-101.html"><a href="packages-101.html#rbuildignore"><i class="fa fa-check"></i><b>20.4</b> * .Rbuildignore</a></li>
<li class="chapter" data-level="20.5" data-path="packages-101.html"><a href="packages-101.html#license-use_mit_license"><i class="fa fa-check"></i><b>20.5</b> * License: <code>use_mit_license()</code></a></li>
<li class="chapter" data-level="20.6" data-path="packages-101.html"><a href="packages-101.html#description"><i class="fa fa-check"></i><b>20.6</b> * DESCRIPTION</a></li>
<li class="chapter" data-level="20.7" data-path="packages-101.html"><a href="packages-101.html#namespace"><i class="fa fa-check"></i><b>20.7</b> * NAMESPACE</a></li>
<li class="chapter" data-level="20.8" data-path="packages-101.html"><a href="packages-101.html#examples-and-tests"><i class="fa fa-check"></i><b>20.8</b> * Examples and tests</a></li>
<li class="chapter" data-level="20.9" data-path="packages-101.html"><a href="packages-101.html#in-my_codes"><i class="fa fa-check"></i><b>20.9</b> .. in MY_CODES</a></li>
<li class="chapter" data-level="20.10" data-path="packages-101.html"><a href="packages-101.html#testthat"><i class="fa fa-check"></i><b>20.10</b> * testthat</a></li>
<li class="chapter" data-level="20.11" data-path="packages-101.html"><a href="packages-101.html#documentation"><i class="fa fa-check"></i><b>20.11</b> * Documentation</a></li>
<li class="chapter" data-level="20.12" data-path="packages-101.html"><a href="packages-101.html#vignettes"><i class="fa fa-check"></i><b>20.12</b> * Vignettes</a></li>
<li class="chapter" data-level="20.13" data-path="packages-101.html"><a href="packages-101.html#delivering-package"><i class="fa fa-check"></i><b>20.13</b> Delivering package</a></li>
<li class="chapter" data-level="20.14" data-path="packages-101.html"><a href="packages-101.html#packaging-and-publishing-w.-pkgdown"><i class="fa fa-check"></i><b>20.14</b> Packaging and publishing w. <code>pkgdown</code></a></li>
<li class="chapter" data-level="20.15" data-path="packages-101.html"><a href="packages-101.html#optional-rtools"><i class="fa fa-check"></i><b>20.15</b> (optional) Rtools</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="r101-building-covid-19-tracker-app-from-scratch.html"><a href="r101-building-covid-19-tracker-app-from-scratch.html"><i class="fa fa-check"></i><b>21</b> R101: Building COVID-19 Tracker App from scratch</a></li>
<li class="chapter" data-level="22" data-path="short-tutorials.html"><a href="short-tutorials.html"><i class="fa fa-check"></i><b>22</b> Short tutorials</a>
<ul>
<li class="chapter" data-level="22.1" data-path="short-tutorials.html"><a href="short-tutorials.html#geospatial-coding-and-visualization-with-r.-part-1"><i class="fa fa-check"></i><b>22.1</b> Geo/Spatial coding and visualization with R. Part 1:</a></li>
<li class="chapter" data-level="22.2" data-path="short-tutorials.html"><a href="short-tutorials.html#text-analysis-with-r.-part-1"><i class="fa fa-check"></i><b>22.2</b> Text Analysis with R. Part 1:</a></li>
<li class="chapter" data-level="22.3" data-path="short-tutorials.html"><a href="short-tutorials.html#dual-coding---python-and-r-unite"><i class="fa fa-check"></i><b>22.3</b> Dual Coding - Python and R unite !</a></li>
<li class="chapter" data-level="22.4" data-path="short-tutorials.html"><a href="short-tutorials.html#working-with-ggtables"><i class="fa fa-check"></i><b>22.4</b> Working with ggtables</a></li>
<li class="chapter" data-level="22.5" data-path="short-tutorials.html"><a href="short-tutorials.html#automate-common-look-and-feel-of-your-ggplot-graphs"><i class="fa fa-check"></i><b>22.5</b> Automate common look and feel of your ggplot graphs</a></li>
<li class="chapter" data-level="22.6" data-path="short-tutorials.html"><a href="short-tutorials.html#automated-generation-of-report-cards"><i class="fa fa-check"></i><b>22.6</b> Automated generation of report cards</a></li>
</ul></li>
<li class="part"><span><b>V Community Development</b></span></li>
<li class="chapter" data-level="23" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>23</b> Shiny Apps</a>
<ul>
<li class="chapter" data-level="23.1" data-path="shiny-apps.html"><a href="shiny-apps.html#pses-results-interactive-analysis-and-visualization"><i class="fa fa-check"></i><b>23.1</b> PSES Results interactive analysis and visualization:</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="shiny-apps.html"><a href="shiny-apps.html#other-tools-and-dashboards"><i class="fa fa-check"></i><b>23.1.1</b> Other tools and dashboards</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="shiny-apps.html"><a href="shiny-apps.html#automated-atip-requests-topic-extraction"><i class="fa fa-check"></i><b>23.2</b> Automated ATIP requests topic extraction:</a></li>
<li class="chapter" data-level="23.3" data-path="shiny-apps.html"><a href="shiny-apps.html#automated-municipal-level-covid-19-tracker"><i class="fa fa-check"></i><b>23.3</b> Automated municipal level COVID-19 tracker:</a></li>
<li class="chapter" data-level="23.4" data-path="shiny-apps.html"><a href="shiny-apps.html#geo-mapped-current-historical-and-predicted-border-wait-times"><i class="fa fa-check"></i><b>23.4</b> Geo-mapped current, historical and predicted border wait times:</a></li>
<li class="chapter" data-level="23.5" data-path="shiny-apps.html"><a href="shiny-apps.html#demo-and-tool-for-linking-noisy-data-records"><i class="fa fa-check"></i><b>23.5</b> Demo and tool for linking noisy data records:</a></li>
<li class="chapter" data-level="23.6" data-path="shiny-apps.html"><a href="shiny-apps.html#html-pages-comparator"><i class="fa fa-check"></i><b>23.6</b> Html pages comparator:</a></li>
<li class="chapter" data-level="23.7" data-path="shiny-apps.html"><a href="shiny-apps.html#large-table-summarizer"><i class="fa fa-check"></i><b>23.7</b> Large table summarizer:</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="lunch-and-learn-notes.html"><a href="lunch-and-learn-notes.html"><i class="fa fa-check"></i><b>A</b> Lunch and Learn notes</a>
<ul>
<li class="chapter" data-level="" data-path="lunch-and-learn-notes.html"><a href="lunch-and-learn-notes.html#interactive-outputs-in-r-without-shiny"><i class="fa fa-check"></i>Interactive Outputs in R without Shiny</a></li>
<li class="chapter" data-level="A.1" data-path="lunch-and-learn-notes.html"><a href="lunch-and-learn-notes.html#discussed-rstudio-webinars"><i class="fa fa-check"></i><b>A.1</b> Discussed RStudio Webinars</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html"><i class="fa fa-check"></i><b>B</b> Canada-related Open source R codes and packages</a>
<ul>
<li class="chapter" data-level="B.1" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#packages-on-cran"><i class="fa fa-check"></i><b>B.1</b> Packages on CRAN</a></li>
<li class="chapter" data-level="B.2" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#packages-not-on-cran"><i class="fa fa-check"></i><b>B.2</b> Packages not on CRAN</a></li>
<li class="chapter" data-level="B.3" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#codes-on-github"><i class="fa fa-check"></i><b>B.3</b> Codes on GitHub</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#expenditures-and-procurement"><i class="fa fa-check"></i><b>B.3.1</b> Expenditures and procurement</a></li>
<li class="chapter" data-level="B.3.2" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#health-and-environment"><i class="fa fa-check"></i><b>B.3.2</b> Health and Environment</a></li>
<li class="chapter" data-level="B.3.3" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#elections"><i class="fa fa-check"></i><b>B.3.3</b> Elections</a></li>
<li class="chapter" data-level="B.3.4" data-path="canada-related-open-source-r-codes-and-packages.html"><a href="canada-related-open-source-r-codes-and-packages.html#ottawa"><i class="fa fa-check"></i><b>B.3.4</b> Ottawa</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="technical-information.html"><a href="technical-information.html"><i class="fa fa-check"></i><b>C</b> Technical information</a>
<ul>
<li class="chapter" data-level="C.1" data-path="technical-information.html"><a href="technical-information.html#colophone"><i class="fa fa-check"></i><b>C.1</b> Colophone</a></li>
<li class="chapter" data-level="C.2" data-path="technical-information.html"><a href="technical-information.html#release-notes"><i class="fa fa-check"></i><b>C.2</b> Release Notes</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The R4GC Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="packages-101" class="section level1" number="20">
<h1><span class="header-section-number">20</span> Packages 101</h1>
<p>title: “How to convert your functions to package(s)”</p>
<!-- title: "Making your codes re-usable using R packages " -->
<p>subtitle: “GC Lunch and Learn: R packages 101”
author: Dmitry Gorodnichy and Joseph Stinziano
gitlab: <a href="https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101" class="uri">https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101</a>
date: “March -June 2021”
Taken from: <a href="https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101/-/blob/master/packages101.Rmd" class="uri">https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101/-/blob/master/packages101.Rmd</a></p>
<div id="resources-5" class="section level2" number="20.1">
<h2><span class="header-section-number">20.1</span> Resources</h2>
<div id="gc-groups-and-repos" class="section level3" number="20.1.1">
<h3><span class="header-section-number">20.1.1</span> GC groups and repos</h3>
<ul>
<li>Discussions:
<ul>
<li><a href="https://gccollab.ca/groups/profile/7391537/enuse-rfruse-r" class="uri">https://gccollab.ca/groups/profile/7391537/enuse-rfruse-r</a></li>
<li><a href="https://gccollab.ca/groups/profile/7855030/enfriday-lunch-and-learn-r-meet-upsfr" class="uri">https://gccollab.ca/groups/profile/7855030/enfriday-lunch-and-learn-r-meet-upsfr</a></li>
</ul></li>
<li>Codes:
<ul>
<li>Packages101 repo: <a href="https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101" class="uri">https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101</a></li>
<li>Related codes and resources: <a href="https://gccode.ssc-spc.gc.ca/r4gc" class="uri">https://gccode.ssc-spc.gc.ca/r4gc</a></li>
</ul></li>
</ul>
</div>
<div id="related-tutorials" class="section level3" number="20.1.2">
<h3><span class="header-section-number">20.1.2</span> Related tutorials</h3>
<ul>
<li><a href="https://r-pkgs.org/" class="uri">https://r-pkgs.org/</a>
<ul>
<li><a href="https://r-pkgs.org/vignettes.html" class="uri">https://r-pkgs.org/vignettes.html</a></li>
</ul></li>
<li><a href="https://fanwangecon.github.io/R4Econ/support/development/fs_packaging.pdf" class="uri">https://fanwangecon.github.io/R4Econ/support/development/fs_packaging.pdf</a></li>
<li><a href="https://rstudio4edu.github.io/rstudio4edu-book/data-pkg.html" class="uri">https://rstudio4edu.github.io/rstudio4edu-book/data-pkg.html</a> - <a href="https://github.com/rstudio4edu/rstudio4edu-book" class="uri">https://github.com/rstudio4edu/rstudio4edu-book</a></li>
<li><a href="http://www.danieldsjoberg.com/writing-R-packages" class="uri">http://www.danieldsjoberg.com/writing-R-packages</a> - github.com/ddsjoberg/writing-R-packages</li>
</ul>
</div>
<div id="how-to-contribute-1" class="section level3" number="20.1.3">
<h3><span class="header-section-number">20.1.3</span> How to contribute</h3>
<ol style="list-style-type: decimal">
<li><p>Anyone: Fork Packages101 repo - modify - commit changes - push - submit request to merge</p></li>
<li><p>Members of r4gc group:</p></li>
</ol>
<p>A token is generated to allow you to push/pull Packages101 repo.<br />
Use this line to push/pull from Packages101 repo:</p>
<pre><code>git clone --progress https://oauth2:tjxrg3GyUQJJDMaA6LfHA@gccode.ssc-spc.gc.ca/r4gc/gc-packages/packages101 r4gc_packages101</code></pre>
<p>=======</p>
</div>
<div id="r-script-to-start" class="section level3" number="20.1.4">
<h3><span class="header-section-number">20.1.4</span> * R script to start:</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="packages-101.html#cb17-1" aria-hidden="true"></a><span class="kw">library</span>(devtools)</span>
<span id="cb17-2"><a href="packages-101.html#cb17-2" aria-hidden="true"></a></span>
<span id="cb17-3"><a href="packages-101.html#cb17-3" aria-hidden="true"></a>devtools<span class="op">::</span><span class="kw">create</span>(<span class="st">&quot;rCanada&quot;</span>) <span class="co">## if you are  in /my_package</span></span>
<span id="cb17-4"><a href="packages-101.html#cb17-4" aria-hidden="true"></a>devtools<span class="op">::</span><span class="kw">create</span>(<span class="st">&quot;../../rCanada&quot;</span>) <span class="co">## will it erase it,if I lready have it?</span></span>
<span id="cb17-5"><a href="packages-101.html#cb17-5" aria-hidden="true"></a><span class="op">&gt;</span><span class="st"> </span><span class="co">#or usethis::create_package(&quot;../r4gc/packages/rCanada2&quot;)</span></span>
<span id="cb17-6"><a href="packages-101.html#cb17-6" aria-hidden="true"></a></span>
<span id="cb17-7"><a href="packages-101.html#cb17-7" aria-hidden="true"></a><span class="kw">library</span>(roxygen2)</span>
<span id="cb17-8"><a href="packages-101.html#cb17-8" aria-hidden="true"></a><span class="co">## library(testthis).&lt;- we dont use this!Dont confuse it with library(testthat) ??</span></span>
<span id="cb17-9"><a href="packages-101.html#cb17-9" aria-hidden="true"></a></span>
<span id="cb17-10"><a href="packages-101.html#cb17-10" aria-hidden="true"></a><span class="kw">library</span>(testthat) <span class="co">## do we need it?</span></span>
<span id="cb17-11"><a href="packages-101.html#cb17-11" aria-hidden="true"></a></span>
<span id="cb17-12"><a href="packages-101.html#cb17-12" aria-hidden="true"></a><span class="kw">library</span>(usethis)</span>
<span id="cb17-13"><a href="packages-101.html#cb17-13" aria-hidden="true"></a><span class="co">## https://github.com/r-lib/usethis</span></span>
<span id="cb17-14"><a href="packages-101.html#cb17-14" aria-hidden="true"></a></span>
<span id="cb17-15"><a href="packages-101.html#cb17-15" aria-hidden="true"></a>usethis<span class="op">::</span><span class="kw">use_testthat</span>()</span>
<span id="cb17-16"><a href="packages-101.html#cb17-16" aria-hidden="true"></a><span class="co">## use_testthat()</span></span>
<span id="cb17-17"><a href="packages-101.html#cb17-17" aria-hidden="true"></a></span>
<span id="cb17-18"><a href="packages-101.html#cb17-18" aria-hidden="true"></a><span class="kw">use_news_md</span>()</span>
<span id="cb17-19"><a href="packages-101.html#cb17-19" aria-hidden="true"></a></span>
<span id="cb17-20"><a href="packages-101.html#cb17-20" aria-hidden="true"></a><span class="kw">use_test</span>(<span class="st">&quot;iviDT&quot;</span>)</span>
<span id="cb17-21"><a href="packages-101.html#cb17-21" aria-hidden="true"></a></span>
<span id="cb17-22"><a href="packages-101.html#cb17-22" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb17-23"><a href="packages-101.html#cb17-23" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb17-24"><a href="packages-101.html#cb17-24" aria-hidden="true"></a><span class="kw">use_data</span>(x, y)</span>
<span id="cb17-25"><a href="packages-101.html#cb17-25" aria-hidden="true"></a></span>
<span id="cb17-26"><a href="packages-101.html#cb17-26" aria-hidden="true"></a></span>
<span id="cb17-27"><a href="packages-101.html#cb17-27" aria-hidden="true"></a><span class="kw">use_vignette</span>(<span class="dt">name=</span><span class="st">&quot;my_vignettes&quot;</span>) <span class="co">#</span></span>
<span id="cb17-28"><a href="packages-101.html#cb17-28" aria-hidden="true"></a><span class="kw">use_vignette</span>(<span class="dt">name=</span><span class="st">&quot;data_linking&quot;</span>)</span>
<span id="cb17-29"><a href="packages-101.html#cb17-29" aria-hidden="true"></a></span>
<span id="cb17-30"><a href="packages-101.html#cb17-30" aria-hidden="true"></a></span>
<span id="cb17-31"><a href="packages-101.html#cb17-31" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;data.table&quot;</span>)</span>
<span id="cb17-32"><a href="packages-101.html#cb17-32" aria-hidden="true"></a><span class="co">## &gt; use_package(&quot;data.table&quot;)</span></span>
<span id="cb17-33"><a href="packages-101.html#cb17-33" aria-hidden="true"></a><span class="co">## √ Adding &#39;data.table&#39; to Imports field in DESCRIPTION</span></span>
<span id="cb17-34"><a href="packages-101.html#cb17-34" aria-hidden="true"></a><span class="co">## * Refer to functions with `data.table::fun()`</span></span>
<span id="cb17-35"><a href="packages-101.html#cb17-35" aria-hidden="true"></a></span>
<span id="cb17-36"><a href="packages-101.html#cb17-36" aria-hidden="true"></a></span>
<span id="cb17-37"><a href="packages-101.html#cb17-37" aria-hidden="true"></a>  </span>
<span id="cb17-38"><a href="packages-101.html#cb17-38" aria-hidden="true"></a>  </span>
<span id="cb17-39"><a href="packages-101.html#cb17-39" aria-hidden="true"></a></span>
<span id="cb17-40"><a href="packages-101.html#cb17-40" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;magrittr&quot;</span>)</span>
<span id="cb17-41"><a href="packages-101.html#cb17-41" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;data.table&quot;</span>)</span>
<span id="cb17-42"><a href="packages-101.html#cb17-42" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;lubridate&quot;</span>, <span class="dt">type=</span><span class="st">&quot;Imports&quot;</span>)  <span class="co">## how about order ?! lubridate must be after data.table !</span></span>
<span id="cb17-43"><a href="packages-101.html#cb17-43" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb17-44"><a href="packages-101.html#cb17-44" aria-hidden="true"></a></span>
<span id="cb17-45"><a href="packages-101.html#cb17-45" aria-hidden="true"></a><span class="kw">use_package</span>(<span class="st">&quot;IVIM&quot;</span>)</span>
<span id="cb17-46"><a href="packages-101.html#cb17-46" aria-hidden="true"></a></span>
<span id="cb17-47"><a href="packages-101.html#cb17-47" aria-hidden="true"></a><span class="co">## To update .Rd files in ./man, run:</span></span>
<span id="cb17-48"><a href="packages-101.html#cb17-48" aria-hidden="true"></a>devtools<span class="op">::</span><span class="kw">document</span>()</span>
<span id="cb17-49"><a href="packages-101.html#cb17-49" aria-hidden="true"></a><span class="co">## Warning: The existing &#39;NAMESPACE&#39; file was not generated by roxygen2, and will not be overwritten.</span></span>
<span id="cb17-50"><a href="packages-101.html#cb17-50" aria-hidden="true"></a><span class="co">## So delete it, and then it will be created</span></span></code></pre></div>
<div id="to-be-discussed" class="section level4" number="20.1.4.1">
<h4><span class="header-section-number">20.1.4.1</span> To be discussed</h4>
<p>Q:
When I Clean and Rebuid:
????!
** testing if installed package can be loaded from final location</p>
<p>?????? C:/Users/gxd006/DOWNLO<sub>1/R-40</sub>1.2 /etc/Renviron.site ?? May 12 19:25:09
Warning: replacing previous import ‘data.table::month’ by ‘lubridate::month’ when loading ‘IVIM’</p>
</div>
</div>
</div>
<div id="setup" class="section level2" number="20.2">
<h2><span class="header-section-number">20.2</span> * Setup</h2>
<p><em>This is what you already have: </em><br />
- “Original”" folder, with no specific structure,
with R and Rmd files that contain:
a) functions that that you want to be re-used by others (and yourself many months later!).<br />
- They are tested and test codes are included in <code>if(F)</code> or in separate .Rmd, or, even better, in interactive Shiny App (eg <a href="https://rCanada.shinyapp.io/covid" class="uri">https://rCanada.shinyapp.io/covid</a>)
- Good idea to be have them in form that can be sourced: <code>source("caCovid.R"); source("iviBase.R")</code></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>functions and other codes that are not (yet) ready for re-use.</li>
</ol>
<p><a href="https://gccode.ssc-spc.gc.ca/r4gc/codes/tracking-covid-data" class="uri">https://gccode.ssc-spc.gc.ca/r4gc/codes/tracking-covid-data</a>
- caCovid.R
- iviBase.R
- … common.R, plot.R, etc</p>
<p><em>This is what you want to get:</em>
- Package folder (or several folders).
- GCCode/r4gc/packages/rCanada
- GCCode/r4gc/packages/IVI
<a href="https://gccode.ssc-spc.gc.ca/gorodnichy/rCanada" class="uri">https://gccode.ssc-spc.gc.ca/gorodnichy/rCanada</a></p>
<div id="ways-to-do-it" class="section level4" number="20.2.0.1">
<h4><span class="header-section-number">20.2.0.1</span> Ways to do it:</h4>
<p>You can create it in two ways:</p>
<div id="from-new-project" class="section level6" number="20.2.0.1.0.1">
<h6><span class="header-section-number">20.2.0.1.0.1</span> From New Project</h6>
<p>Either way RStudio will initialize and launch your new project.
In the second way, it also puts .gitignore</p>
<ol style="list-style-type: decimal">
<li>In RStudio -&gt; New Project -&gt; New Direcory -&gt;R package -&gt; package name: caPSES</li>
</ol>
<p>NB: there are many templates. Choose basic (“R package) and create in folder /my_packages
NB: If you have .R codes that are already source-able, attached them with”Add"button (one at a time), or you can copy them into /R folder later</p>
<p>note from Hadley: <a href="https://r-pkgs.org/workflows101.html" class="uri">https://r-pkgs.org/workflows101.html</a></p>
<p>Call usethis::create_package(“path/to/package/pkgname”).
Or, In RStudio, do File &gt; New Project &gt; New Directory &gt; R Package. This ultimately calls usethis::create_package(), so really there’s just one way.</p>
<p>Don’t use package.skeleton() to create a package. Because this function comes with R, you might be tempted to use it, but it creates a package that immediately throws errors with R CMD build.</p>
</div>
<div id="from-script" class="section level6" number="20.2.0.1.0.2">
<h6><span class="header-section-number">20.2.0.1.0.2</span> From script</h6>
<ol start="2" style="list-style-type: decimal">
<li>Run from any R, Rmd window or R console the command below</li>
</ol>
<p>NB: output from</p>
<pre><code>&gt; devtools::create(&quot;../r4gc/packages/rCanada&quot;)
&gt; #or usethis::create_package(&quot;../r4gc/packages/rCanada2&quot;)

New project &#39;rCanada&#39; is nested inside an existing project &#39;../r4gc/packages/&#39;, which is rarely a good idea.
If this is unexpected, the here package has a function, `here::dr_here()` that reveals why &#39;../r4gc/packages/&#39; is regarded as a project.
Do you want to create anyway?

1: Yes
2: Absolutely not
3: Nope

Selection: 1
√ Creating &#39;../r4gc/packages/rCanada/&#39;
√ Setting active project to &#39;C:/Users/gxd006/Downloads/_CODES/GCCode/r4gc/packages/rCanada&#39;
√ Creating &#39;R/&#39;
√ Writing &#39;DESCRIPTION&#39;
Package: rCanada
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R (parsed):
    * First Last &lt;first.last@example.com&gt; [aut, cre] (YOUR-ORCID-ID)
Description: What the package does (one paragraph).
License: `use_mit_license()`, `use_gpl3_license()` or friends to
    pick a license
Encoding: UTF-8
LazyData: true
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.1.1
√ Writing &#39;NAMESPACE&#39;
√ Writing &#39;rCanada.Rproj&#39;
√ Adding &#39;^rCanada\\.Rproj$&#39; to &#39;.Rbuildignore&#39;
√ Adding &#39;.Rproj.user&#39; to &#39;.gitignore&#39;
√ Adding &#39;^\\.Rproj\\.user$&#39; to &#39;.Rbuildignore&#39;
√ Opening &#39;C:/Users/gxd006/Downloads/_CODES/GCCode/r4gc/packages/rCanada/&#39; in new RStudio session
√ Setting active project to &#39;&lt;no active project&gt;&#39;</code></pre>
</div>
</div>
</div>
<div id="overall-workflow" class="section level2" number="20.3">
<h2><span class="header-section-number">20.3</span> * Overall Workflow</h2>
<div id="copy-needed-codes-from-my_codes-to-r-directory" class="section level4" number="20.3.0.1">
<h4><span class="header-section-number">20.3.0.1</span> .. Copy needed codes from MY_CODES to R directory</h4>
<ul>
<li>Copy a function</li>
</ul>
<pre><code>dt.replaceAwithB &lt;- function(dt, col, a, b) {
  dt[get(col)==a, (col):=b]; 
}</code></pre>
<ul>
<li>Insert roxigen skeleton (from magic wand menu) and add description
NB: you may need to manually insert @ import and @ export</li>
</ul>
</div>
<div id="section" class="section level3" number="20.3.1">
<h3><span class="header-section-number">20.3.1</span> </h3>
<p>no need to Load All?
Always start from “Clean and rebuild”
Then Check</p>
</div>
</div>
<div id="rbuildignore" class="section level2" number="20.4">
<h2><span class="header-section-number">20.4</span> * .Rbuildignore</h2>
<p>^.*.Rproj$
^.Rproj.user$
MY_CODES incorrect
^MY_CODES$ correct
^MY_DATASETS$
^LICENSE.md$</p>
</div>
<div id="license-use_mit_license" class="section level2" number="20.5">
<h2><span class="header-section-number">20.5</span> * License: <code>use_mit_license()</code></h2>
<p>License: MIT + file LICENSE</p>
</div>
<div id="description" class="section level2" number="20.6">
<h2><span class="header-section-number">20.6</span> * DESCRIPTION</h2>
</div>
<div id="namespace" class="section level2" number="20.7">
<h2><span class="header-section-number">20.7</span> * NAMESPACE</h2>
<p><a href="https://r-pkgs.org/namespace.html" class="uri">https://r-pkgs.org/namespace.html</a></p>
<pre><code>use_package(&quot;data.table&quot;)
## &gt; use_package(&quot;data.table&quot;)
## √ Adding &#39;data.table&#39; to Imports field in DESCRIPTION
## * Refer to functions with `data.table::fun()`</code></pre>
<p>However this does notchange NAMESPACE ! Who changes is it?
is that devtools::document() ???</p>
<p>Generated by roxygen2: do not edit by hand</p>
<pre><code>export()
export(addDerivatives)
export(extractMostInfectedToday)
export(readCovidUofT.csv)
importFrom(lubridate,dmy)
importFrom(stringr,str_replace)</code></pre>
<p>I deleted NAMESPACE so that roxigen can generate it!
then added manually there . Not sure that’s theway to do it !</p>
<pre><code>import(data.table)
import(ggplot2)
import(lubridate)
import(magrittr)
import(IVIM)</code></pre>
<p>It Worked !</p>
<p>If you are using just a few functions from another package, the recommended option is to note the package name in the Imports: field of the DESCRIPTION file and call the function(s) explicitly using ::, e.g., pkg::fun(). Alternatively, though no longer recommended due to its poorer readability, use <span class="citation">@importFrom</span>, e.g., <span class="citation">@importFrom</span> pgk fun, and call the function(s) without ::.</p>
</div>
<div id="examples-and-tests" class="section level2" number="20.8">
<h2><span class="header-section-number">20.8</span> * Examples and tests</h2>
<div id="in-main-file-in-r-folder" class="section level4" number="20.8.0.1">
<h4><span class="header-section-number">20.8.0.1</span> .. In main file in /R folder</h4>
<pre><code>#&#39; @examples</code></pre>
<p>Some could be such :</p>
<pre><code>#&#39; \dontrun{}</code></pre>
</div>
<div id="in-tests-folder" class="section level4" number="20.8.0.2">
<h4><span class="header-section-number">20.8.0.2</span> .. In /tests folder</h4>
<pre><code>&gt; use_testthat()

√ Setting active project to &#39;C:/Users/gxd006/Downloads/_CODES/GCCode/r4gc/packages/IVIM&#39;
√ Adding &#39;testthat&#39; to Suggests field in DESCRIPTION
√ Setting Config/testthat/edition field in DESCRIPTION to &#39;3&#39;
√ Creating &#39;tests/testthat/&#39;
√ Writing &#39;tests/testthat.R&#39;
* Call `use_test()` to initialize a basic test file and open it for editing.
Warning messages:
1: In readLines(f, n) :
  incomplete final line found on &#39;C:/Users/gxd006/Downloads/_CODES/GCCode/r4gc/packages/IVIM/DESCRIPTION&#39;
...
  incomplete final line found on &#39;C:/Users/gxd006/Downloads/_CODES/GCCode/r4gc/packages/IVIM/DESCRIPTION&#39;
&gt; use_vignette()
Error in check_vignette_name(name) : 
  argument &quot;name&quot; is missing, with no default</code></pre>
</div>
</div>
<div id="in-my_codes" class="section level2" number="20.9">
<h2><span class="header-section-number">20.9</span> .. in MY_CODES</h2>
<p>Provide as .R, Rmd or shiny</p>
</div>
<div id="testthat" class="section level2" number="20.10">
<h2><span class="header-section-number">20.10</span> * testthat</h2>
<p><a href="https://testthat.r-lib.org/" class="uri">https://testthat.r-lib.org/</a></p>
</div>
<div id="documentation" class="section level2" number="20.11">
<h2><span class="header-section-number">20.11</span> * Documentation</h2>
<p>devtools::document()</p>
<p><a href="https://kbroman.org/pkg_primer/pages/docs.html" class="uri">https://kbroman.org/pkg_primer/pages/docs.html</a></p>
<pre><code>#&#39; For more details see the help vignette:
#&#39; \code{vignette(&quot;help&quot;, package = &quot;mypkg&quot;)}

or 

\href{../doc/help.html}{\code{vignette(&quot;help&quot;, package = &quot;mypkg&quot;)}}
</code></pre>
</div>
<div id="vignettes" class="section level2" number="20.12">
<h2><span class="header-section-number">20.12</span> * Vignettes</h2>
<pre><code>&gt; use_vignette(name=&quot;my_vignettes&quot;)

√ Adding &#39;knitr&#39; to Suggests field in DESCRIPTION
√ Setting VignetteBuilder field in DESCRIPTION to &#39;knitr&#39;
√ Adding &#39;inst/doc&#39; to &#39;.gitignore&#39;
√ Creating &#39;vignettes/&#39;
√ Adding &#39;*.html&#39;, &#39;*.R&#39; to &#39;vignettes/.gitignore&#39;
√ Adding &#39;rmarkdown&#39; to Suggests field in DESCRIPTION
√ Writing &#39;vignettes/my_vignettes.Rmd&#39;
* Modify &#39;vignettes/my_vignettes.Rmd&#39;</code></pre>
<p>I later renamed my first vignette to intro.Rmd - manually</p>
<p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/package-vignette.html" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/package-vignette.html</a></p>
</div>
<div id="delivering-package" class="section level2" number="20.13">
<h2><span class="header-section-number">20.13</span> Delivering package</h2>
<ul>
<li>[Easiest way] Put binary in package repo. Then you can install it simply using <code>install.packages("IVIM", repos = "https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/IVIM/-/blob/master/versions/IVIM_0.0.0.9000.tar.gz")</code>
<ul>
<li>this .tar ball is obtained by running <code>devtools::build()</code> or <code>devtools::check()</code> which will place it in “../yourRPackageProject” directory.</li>
</ul></li>
<li>[CONFIRM THIS!] Put source in github. Then people will be able to install using <code>devtools::install_github("https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/IVIM")</code></li>
</ul>
</div>
<div id="packaging-and-publishing-w.-pkgdown" class="section level2" number="20.14">
<h2><span class="header-section-number">20.14</span> Packaging and publishing w. <code>pkgdown</code></h2>
<p><a href="https://fanwangecon.github.io/R4Econ/support/development/fs_packaging.pdf" class="uri">https://fanwangecon.github.io/R4Econ/support/development/fs_packaging.pdf</a></p>
<div id="appendix-various-possible-errors-and-problems" class="section level4" number="20.14.0.1">
<h4><span class="header-section-number">20.14.0.1</span> Appendix: Various possible Errors and problems</h4>
<div id="errors-in-using-usethisuse_testthat" class="section level6" number="20.14.0.1.0.1">
<h6><span class="header-section-number">20.14.0.1.0.1</span> Errors in using usethis::use_testthat()</h6>
<p>Problem:</p>
<pre><code>
&gt; usethis::use_vignette(name=&quot;howtoCovid&quot;)
Error in read.dcf(con) : 
  Line starting &#39;analyze and visualiz ...&#39; is malformed!
&gt; </code></pre>
<p>Solution:<br />
<a href="https://stackoverflow.com/questions/59303030/devtools-error-in-read-dcfpath-desc-line-starting-this-corresponds-to" class="uri">https://stackoverflow.com/questions/59303030/devtools-error-in-read-dcfpath-desc-line-starting-this-corresponds-to</a></p>
<p>Corrections from <a href="https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/IVIM/-/tree/useR-dev/" class="uri">https://gccode.ssc-spc.gc.ca/r4gc/gc-packages/IVIM/-/tree/useR-dev/</a></p>
</div>
</div>
</div>
<div id="optional-rtools" class="section level2" number="20.15">
<h2><span class="header-section-number">20.15</span> (optional) Rtools</h2>
<p>NBL This is not required</p>
<p><a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a></p>
<p><a href="http://web.mit.edu/insong/www/pdf/rpackage_instructions.pdf" class="uri">http://web.mit.edu/insong/www/pdf/rpackage_instructions.pdf</a></p>
<div id="package_initialization_script.r" class="section level4" number="20.15.0.1">
<h4><span class="header-section-number">20.15.0.1</span> package_initialization_script.R</h4>
<pre><code>
 ## package_initialization_script.R
 
 library(devtools)

devtools::create(&quot;rCanada&quot;) ## if you are  in /my_package
devtools::create(&quot;../../rCanada&quot;) ## will it erase it,if I lready have it?
&gt; #or usethis::create_package(&quot;../r4gc/packages/rCanada2&quot;)

library(roxygen2)
## library(testthis). What&#39;s the difference from library(testthat) ??
library(testthat) ## do we need it?
## Attaching package: ‘testthat’
#
## The following object is masked from ‘package:devtools’:
#
##   test_file
#
## The following objects are masked from ‘package:magrittr’:
#
##   equals, is_less_than, not


usethis::use_testthat() ## from usethis, which is callsed from devtools


use_vignette(name=&quot;my_vignettes&quot;) #
use_vignette(name=&quot;data_linking&quot;)


use_package(&quot;data.table&quot;)
use_package(&quot;magrittr&quot;)
use_package(&quot;data.table&quot;)
use_package(&quot;lubridate&quot;, type=&quot;Imports&quot;)  ## how about order ?! lubridate must be after data.table !
use_package(&quot;stringr&quot;)</code></pre>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="gccode-101.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r101-building-covid-19-tracker-app-from-scratch.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["LL-book.epub", "LL-book.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
